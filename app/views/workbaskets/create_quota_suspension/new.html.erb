<% content_for :content do %>
  <div id="vue-create-quota-suspension-form">
    <div class="breadcrumbs">
      <nav>
        <ol>
          <li>
          <%= link_to "Main menu", root_url %>
          </li>
          <li>
              <%= link_to "Quota suspension", quota_suspensions_url %>
          </li>
          <li>
              Create quota suspension period
          </li>
        </ol>
      </nav>
    </div>

    <div v-if="hasErrors" class="error-summary" role="alert" aria-labelledby="error-summary-heading" tabindex="-1">
      <h2 class="heading-medium error-summary-heading" id="error-summary-heading">
        Error
      </h2>
      <p>
        Please see individual fields for details.
      </p>
      <ul class="error-summary-list">
        <li v-for="(value, name) in errors"><a v-bind:href="'#' + name">{{value}}</a></li>
      </ul>
    </div>

    <h1 class="heading-large">
      Create quota suspension
    </h1>

    <div class="grid-row">
      <div class="column-full">
        <p>Use this functionality to create a suspension period for a given quota.</p>

        <p>Alternatively, please click here to view <%= link_to "existing quota suspensions periods", quota_suspensions_url %>.</p>
      </div>
    </div>
    <%= simple_form_for @create_quota_suspension_form, url: create_quota_suspension_index_path, html: { novalidate: false}  do |f| %>

    <%#= form_tag(create_quota_association_index_url, {:@submit => 'validateStepOneData'}) do %>
      <div class="grid-row">
        <div class="column-full">
          <div class="form-group" v-bind:class="{ 'form-group-error': errors.workbasket_name }">
            <label for="workbasket_name" class="heading-medium">
              Please enter the name of the workbasket
              <span class="form-hint">
                Please enter the quota order number ID
              </span>

              <% if @create_quota_suspension_form.settings_errors[:workbasket_title] %>
                <span class="error-message"><%= @create_quota_suspension_form.settings_errors[:workbasket_title] %></span>
              <% end %>

            </label>
            <div class="grid-row">
              <div class="column-one-half">
                <%= f.input :workbasket_title, label: false, required: true %>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="grid-row">
          <div class="column-full">
              <div class="form-group" v-bind:class="{ 'form-group-error': errors.parent_quota }">
                <label class="heading-medium m-t-10" for="parent_quota">
                  Please enter the quota order number ID
                  <span class="form-hint">
                    Please ensure that you select an existing quota order number ID with 6 numeric digits beginning "09". Only select FCFS quotas that do not start with the characters "094"
                  </span>

                  <% if @create_quota_suspension_form.settings_errors[:quota_order_number_id] %>
                    <span class="error-message"><%= @create_quota_suspension_form.settings_errors[:quota_order_number_id] %></span>
                  <% end %>

                </label>
                <div class="grid-row">
                  <div class="column-one-quarter">
                    <%= f.input :quota_order_number_id, label: false, required: true, input_html: { minlength: 6,  maxlength: 6 } %>
                  </div>
                </div>
              </div>
          </div>
        </div>

      <div class="actions">
        <div class="form-actions">
          <button type="submit"
                  class='button'
                  data-disable-with='Processing'>
            Continue
          </button>

          <%= link_to "Cancel", quota_associations_path, class: "secondary-button" %>
        </div>

      </div>
    <%# end %>
  </div>

  <% end %>

<% end %>
